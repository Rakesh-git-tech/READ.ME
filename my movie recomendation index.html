<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineSuggest - Movie Recommender</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Dark Gray */
        }
        /* Custom scrollbar for a better look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1F2937;
        }
        ::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6B7280;
        }
        .movie-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .movie-card:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }
        /* So the text inside the input is not dark on dark */
        input::placeholder {
            color: #9CA3AF;
        }
    </style>
</head>
<body class="text-gray-200">

    <div class="container mx-auto px-4 py-8">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-2">
                ðŸŽ¬ CineSuggest
            </h1>
            <p class="text-lg text-gray-400">Your personal AI movie recommender. Just tell me what you want to see!</p>
        </header>

        <!-- Command Bar -->
        <div class="sticky top-4 z-10 bg-gray-900/80 backdrop-blur-sm p-4 rounded-lg shadow-2xl mb-8">
            <form id="command-form" class="flex flex-col sm:flex-row items-center gap-3">
                <label for="command-input" class="sr-only">Your Command</label>
                <div class="relative flex-grow w-full">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                    <input type="text" id="command-input" placeholder="e.g., 'recommend sci-fi' or 'show me inception'" class="w-full bg-gray-800 text-white border border-gray-700 rounded-md py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <button type="submit" class="w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-md transition duration-300">
                    Find Movies
                </button>
            </form>
            <div class="text-center mt-3">
                 <button id="show-all-btn" class="text-sm text-indigo-400 hover:text-indigo-300 transition">Show All Movies</button>
            </div>
        </div>

        <!-- Status Message -->
        <div id="status-message" class="text-center mb-6 text-gray-400 text-lg"></div>

        <!-- Movie Grid -->
        <main id="movie-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
            <!-- Movie cards will be inserted here by JavaScript -->
        </main>

    </div>

    <script>
        // --- MOVIE DATABASE ---
        // In a real application, this would come from an API
        const moviesDB = [
            {
                id: 1,
                title: 'Inception',
                genre: 'Sci-Fi',
                rating: 8.8,
                year: 2010,
                description: 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_SX300.jpg'
            },
            {
                id: 2,
                title: 'The Matrix',
                genre: 'Sci-Fi',
                rating: 8.7,
                year: 1999,
                description: 'A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BNzQzOTk3OTAtNDQ0Zi00ZTVkLWI0MTEtMDllZjNkYzNjNTc4L2ltYWdlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg'
            },
            {
                id: 3,
                title: 'The Dark Knight',
                genre: 'Action',
                rating: 9.0,
                year: 2008,
                description: 'When the menace known as the Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg'
            },
            {
                id: 4,
                title: 'Pulp Fiction',
                genre: 'Crime',
                rating: 8.9,
                year: 1994,
                description: 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg'
            },
            {
                id: 5,
                title: 'Forrest Gump',
                genre: 'Drama',
                rating: 8.8,
                year: 1994,
                description: 'The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BNWIwODRlZTUtY2U3ZS00Yzg1LWJhNzYtMmZiYmEyNmU1NjMzXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg'
            },
            {
                id: 6,
                title: 'Parasite',
                genre: 'Thriller',
                rating: 8.6,
                year: 2019,
                description: 'Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BYWZjMjk3ZTItODQ2ZC00NTY5LWE0ZDYtZTI3MjcwN2Q5NTVkXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg'
            },
            {
                id: 7,
                title: 'Gladiator',
                genre: 'Action',
                rating: 8.5,
                year: 2000,
                description: 'A former Roman General sets out to exact vengeance against the corrupt emperor who murdered his family and sent him into slavery.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BMDliMmNhNDEtODUyOS00MjNlLTgxODEtN2U3NzIxMGVkZTA1L2ltYWdlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg'
            },
            {
                id: 8,
                title: 'The Lion King',
                genre: 'Animation',
                rating: 8.5,
                year: 1994,
                description: 'Lion prince Simba and his father are targeted by his bitter uncle, who wants to ascend the throne himself.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BYTYxNGMyZTYtMjE3MS00MzNjLWFjNmYtMDk3N2FmM2JiM2M1XkEyXkFqcGdeQXVyNjY5NDU4NDI@._V1_SX300.jpg'
            },
             {
                id: 9,
                title: 'Interstellar',
                genre: 'Sci-Fi',
                rating: 8.6,
                year: 2014,
                description: 'A team of explorers travel through a wormhole in space in an attempt to ensure humanity\'s survival.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BZjdkOTU3MDktN2IxOS00OGEyLWFmMjktY2FiMmZkNWIyODZiXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg'
            },
            {
                id: 10,
                title: 'Spirited Away',
                genre: 'Animation',
                rating: 8.6,
                year: 2001,
                description: 'During her family\'s move to the suburbs, a sullen 10-year-old girl wanders into a world ruled by gods, witches, and spirits, and where humans are changed into beasts.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BMjlmZmI5MDctNDE2YS00YWE0LWE5ZWItZDBhYWQ0NTcxNWRhXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg'
            },
            {
                id: 11,
                title: 'The Prestige',
                genre: 'Thriller',
                rating: 8.5,
                year: 2006,
                description: 'After a tragic accident, two stage magicians engage in a battle to create the ultimate illusion while sacrificing everything they have to outwit each other.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BMjA4NDI0MTIxNl5BMl5BanBnXkFtZTYwNTM0MzY2._V1_SX300.jpg'
            },
            {
                id: 12,
                title: 'Mad Max: Fury Road',
                genre: 'Action',
                rating: 8.1,
                year: 2015,
                description: 'In a post-apocalyptic wasteland, a woman rebels against a tyrannical ruler in search for her homeland with the help of a group of female prisoners and a drifter named Max.',
                posterUrl: 'https://m.media-amazon.com/images/M/MV5BN2EwM2I5OWMtMGQyMi00Zjg1LWJkNTctZTdjYTA4OGUwZjMyXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg'
            },
        ];

        // --- DOM ELEMENTS ---
        const movieGrid = document.getElementById('movie-grid');
        const commandForm = document.getElementById('command-form');
        const commandInput = document.getElementById('command-input');
        const statusMessage = document.getElementById('status-message');
        const showAllBtn = document.getElementById('show-all-btn');


        // --- FUNCTIONS ---

        /**
         * Renders a list of movie objects to the DOM
         * @param {Array} moviesToShow - An array of movie objects
         */
        function renderMovies(moviesToShow) {
            movieGrid.innerHTML = ''; // Clear previous results
            if (moviesToShow.length === 0) {
                statusMessage.textContent = "Sorry, I couldn't find any movies matching your command.";
                return;
            }

            moviesToShow.forEach(movie => {
                const movieCard = `
                    <div class="movie-card bg-gray-800 rounded-lg overflow-hidden shadow-lg flex flex-col">
                        <img src="${movie.posterUrl}" alt="${movie.title} Poster" class="w-full h-auto object-cover flex-shrink-0" onerror="this.onerror=null;this.src='https://placehold.co/300x450/111827/FFFFFF?text=${movie.title.replace(/\s/g, '+')}';">
                        <div class="p-4 flex flex-col flex-grow">
                            <h3 class="text-lg font-bold text-white truncate">${movie.title}</h3>
                            <div class="flex justify-between items-center mt-2 text-sm text-gray-400">
                                <span>${movie.genre}</span>
                                <span class="flex items-center">
                                    <svg class="w-4 h-4 text-yellow-400 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    ${movie.rating}
                                </span>
                            </div>
                        </div>
                    </div>
                `;
                movieGrid.innerHTML += movieCard;
            });
        }
        
        /**
         * Processes the user's command to filter or find movies
         * @param {string} command - The text from the input field
         */
        function processCommand(command) {
            const cmd = command.toLowerCase().trim();
            let results = [];
            let message = "";

            if (cmd.startsWith('recommend') || cmd.startsWith('suggest')) {
                const genre = cmd.replace('recommend', '').replace('suggest', '').trim();
                results = moviesDB.filter(movie => movie.genre.toLowerCase().includes(genre));
                message = `Here are some ${genre} movies for you.`;
            } else if (cmd.startsWith('show') || cmd.startsWith('find')) {
                const title = cmd.replace('show', '').replace('find', '').replace('me','').trim();
                results = moviesDB.filter(movie => movie.title.toLowerCase().includes(title));
                message = `Showing results for "${title}".`;
            } else if (cmd.includes('like')) {
                const title = cmd.replace('movies like','').replace('like','').trim();
                const sourceMovie = moviesDB.find(m => m.title.toLowerCase().includes(title));
                if (sourceMovie) {
                    results = moviesDB.filter(m => m.genre === sourceMovie.genre && m.id !== sourceMovie.id);
                    message = `Because you like ${sourceMovie.title}, here are other ${sourceMovie.genre} movies.`;
                } else {
                    message = `Sorry, I couldn't find a movie called "${title}" to base recommendations on.`;
                    results = moviesDB;
                }
            } else {
                // Generic search if no keyword is detected
                results = moviesDB.filter(movie => 
                    movie.title.toLowerCase().includes(cmd) || 
                    movie.genre.toLowerCase().includes(cmd)
                );
                message = `Showing all results for "${cmd}".`;
            }

            statusMessage.textContent = message;
            renderMovies(results);
        }

        // --- EVENT LISTENERS ---
        commandForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userCommand = commandInput.value;
            if (userCommand) {
                processCommand(userCommand);
            }
        });

        showAllBtn.addEventListener('click', () => {
            statusMessage.textContent = 'Showing all available movies.';
            commandInput.value = '';
            renderMovies(moviesDB);
        });

        // --- INITIAL RENDER ---
        // Display all movies when the page loads
        window.addEventListener('load', () => {
            statusMessage.textContent = 'Welcome! Here are some popular movies. Use the bar above to search.';
            renderMovies(moviesDB);
        });

    </script>
</body>
</html>
